# PostgreSQL

1я╕ПтГг PostgreSQL ржХрзА?
PostgreSQL ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржУржкрзЗржи рж╕рзЛрж░рзНрж╕ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрж╛ржЯрж╛ржмрзЗржЬ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо (RDBMS), ржпрзЗржЯрж┐ SQL (Structured Query Language) ржПржмржВ ржЖрж░ржУ ржЕржирзЗржХ ржЖржзрзБржирж┐ржХ ржбрзЗржЯрж╛ ржлрж┐ржЪрж╛рж░ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред ржПржЯрж┐ ACID ржХржоржкрзНрж▓рж╛рзЯрзЗржирзНржЯ ржПржмржВ ржмржбрж╝ ржЖржХрж╛рж░рзЗрж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНрждред

ЁЯФН ржЙржжрж╛рж╣рж░ржг:

CREATE DATABASE myapp;
PostgreSQL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг, ржЕржирзБрж╕ржирзНржзрж╛ржи, ржЖржкржбрзЗржЯ ржПржмржВ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЯрж┐ JSON, ARRAY, ржПржмржВ CUSTOM TYPES-ржПрж░ ржорждрзЛ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ ржлрж┐ржЪрж╛рж░ржУ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред

2я╕ПтГг PostgreSQL-ржП ржПржХржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЬ рж╕рзНржХрж┐ржорж╛рж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрзА?
ржПржХржЯрж┐ рж╕рзНржХрж┐ржорж╛ рж╣рж▓ ржбрзЗржЯрж╛ржмрзЗржЬрзЗрж░ ржнрж┐рждрж░рзЗрж░ ржПржХржЯрж┐ ржпрзБржХрзНрждрж┐рж╕ржВржЧржд ржХрж╛ржарж╛ржорзЛ ржпрзЗржЦрж╛ржирзЗ ржЯрзЗржмрж┐рж▓, ржнрж┐ржЙ, ржлрж╛ржВрж╢ржи ржЗрждрзНржпрж╛ржжрж┐ рж╕ржВржЧржарж┐ржд ржХрж░рж╛ ржпрж╛ржпрж╝ ред ржПржЯрж┐ ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржУ рж╕рзБрж░ржХрзНрж╖рж┐ржд рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ ржПржмржВ ржПржХржЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржмрж┐ржнрж┐ржирзНржи ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржХрж╛ржарж╛ржорзЛ рждрзИрж░рж┐ ржХрж░рждрзЗ ржжрзЗрзЯред

ЁЯФН ржЙржжрж╛рж╣рж░ржг:

CREATE SCHEMA wildlife;
ржПрж░ржкрж░ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐:

CREATE TABLE wildlife.rangers (
  ranger_id SERIAL PRIMARY KEY,
  name VARCHAR(100)
);
ржПржнрж╛ржмрзЗ ржПржХрж╛ржзрж┐ржХ рж╕рзНржХрж┐ржорж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЗ ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржЖрж▓рж╛ржжрж╛ ржоржбрж┐ржЙрж▓ ржмрж╛ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗрж░ ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЦрж╛ ржпрж╛ржпрж╝ ред

3я╕ПтГг Primary Key ржПржмржВ Foreign Key-ржПрж░ ржмрзНржпрж╛ржЦрзНржпрж╛ ржжрж┐ржиред
Primary Key: ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржЗржЙржирж┐ржХ ржПржмржВ ржирж╛рж▓ ржирзЯред ржПржЯрж┐ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ рж╕ржирж╛ржХрзНржд ржХрж░рзЗред

ЁЯФН ржЙржжрж╛рж╣рж░ржг:

CREATE TABLE species (
  species_id SERIAL PRIMARY KEY,
  common_name VARCHAR(100)
);
Foreign Key: ржЕржирзНржп ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key-ржХрзЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рзЗ ржПржмржВ рж╕ржорзНржкрж░рзНржХ рждрзИрж░рж┐ ржХрж░рзЗред

ЁЯФН ржЙржжрж╛рж╣рж░ржг:


CREATE TABLE sightings (
  sighting_id SERIAL PRIMARY KEY,
  species_id INT REFERENCES species(species_id)
);
ржПржЗ рж╕ржорзНржкрж░рзНржХ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржПржоржи ржХрзЛржирзЛ species_id ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛ ржпрж╛ species ржЯрзЗржмрж┐рж▓рзЗ ржирзЗржЗред

4я╕ПтГг VARCHAR ржПржмржВ CHAR ржбрзЗржЯрж╛ ржЯрж╛ржЗржкрзЗрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп ржХрзА?
CHAR(n): ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ ржлрж┐ржХрзНрж╕ржб-рж▓рзЗржВрже рж╕рзНржЯрзНрж░рж┐ржВред ржпржжрж┐ ржбрзЗржЯрж╛ ржЫрзЛржЯ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ ржЕржЯрзЛржорзЗржЯрж┐ржХрж╛рж▓рж┐ ржмрж╛ржХрж┐ ржЕржВрж╢ ржлрж╛ржБржХрж╛ (padding) ржжрж┐рзЯрзЗ ржкрзВрж░ржг ржХрж░рзЗред

VARCHAR(n): ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ рж▓рзЗржВржерзЗрж░ рж╕рзНржЯрзНрж░рж┐ржВ ржпрзЗржЦрж╛ржирзЗ ржпрждржЯрзБржХрзБ ржЗржиржкрзБржЯ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝, рждрждржЯрзБржХрзБ ржЬрж╛рзЯржЧрж╛ ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯред

ЁЯФН рждрзБрж▓ржирж╛:

name CHAR(10);   -- 'Bob      ' тЖТ 10 characters
name VARCHAR(10);-- 'Bob'       тЖТ 3 characters
VARCHAR ржорзЗржорзЛрж░рж┐-рж╕рж╛рж╢рзНрж░рзЯрзА ржПржмржВ ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржпред

5я╕ПтГг SELECT рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗ WHERE ржХрзНрж▓ржЬрзЗрж░ ржХрж╛ржЬ ржХрзА?
WHERE ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржЕржирзБржпрж╛ржпрж╝рзА рж░рзЗржХрж░рзНржбржЧрзБрж▓рзЛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

ЁЯФН ржЙржжрж╛рж╣рж░ржг:


SELECT * FROM species
WHERE conservation_status = 'Endangered';
ржПржЗ ржХрзЛржпрж╝рзЗрж░рж┐ рж╢рзБржзрзБ рж╕рзЗржЗ species ржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржмрзЗ ржпрзЗржЧрзБрж▓рзЛрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ "Endangered"ред

WHERE ржХрзНрж▓ржЬ ржЫрж╛ржбрж╝рж╛ рж╕ржм рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржЖрж╕рзЗ тАФ рждрж╛ржЗ ржПржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржУ рж░рж┐ржкрзЛрж░рзНржЯ рждрзИрж░рж┐рждрзЗ ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред
